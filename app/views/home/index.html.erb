<div class="model_listing">
  <h1>Hello <%= current_user.name %></h1>
</div>

<div id="modal">
    <header><h1>Blogs you are following</h1></header>
    <section>
    <p> 
      <% current_user.favorite_blogs.each do |favourite| %>
      <table>
    <tr>
      <td> <%= link_to favourite.title, favourite %> </td>

    </tr>
      </table>
    <% end %>

    </p>
    </section>
</div>



    <div id="pattern" class="pattern">
        <!--Begin Pattern HTML-->
        <div class="accordion clearfix">
            <div class="accordion-innerwrap">
                <ul class="panel-container list-reset" tabindex="1">
                    <li><h4 id="trigger1" class="panel-title"><b class="icon panel-closed" aria-hidden="true">&oplus;</b> Blogs you are following</h4>
                        <ul class="panel-content list-reset visuallyhidden" aria-expanded="false">
                            <li><b class="icon"></b> <abbr title="cascading style sheet">
                               <% current_user.favorite_blogs.each do |favourite| %>
                               <li> <%= link_to favourite.title, favourite %> - 
                                    <%= favourite.description %> </li>
                              <% end %>

                              </abbr></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
        
<script>
$(document).ready(function() {
    // Collapsible Menu
    function accordion(trigger) {
        //variables
        var $button = $(trigger),//trigger firing the event
            visible = true;//flag for wayfinding

            $button.hover().css({'cursor': 'pointer'});

        //event
        $button.click(function() {
            //conditional check
            if ( ! visible ) {
                $button.removeClass('active');
                $('.panel-title .icon').html('&oplus;');

                $(this).next().slideToggle('slow',function() {
                    $(this).addClass('visuallyhidden');
                    $('.panel-content').attr( 'aria-expanded','false' );
                });
            }else {
                $button.addClass('active');
                $('.panel-title.active .icon').html('&otimes;');

                $(this).next().slideToggle('slow',function() {
                    $('.panel-content').attr( 'aria-expanded','true' );
                    $(this).removeClass('visuallyhidden');
                });
            }

            visible = !visible;
            return false
        });
    }

    //call to widget trigger1
    accordion('#trigger1');

});//end document.ready()
</script>   





<script>
  $(function () {
    $('#myTab a:last').tab('show')
  })
</script>

<div class="tabs_container_home">

<ul class="nav nav-tabs responsive" id="myTab">
  <li class="active"><a href="#home" data-toggle="tab">Home</a></li>
  <li><a href="#profile" data-toggle="tab">Profile</a></li>
  <li><a href="#messages" data-toggle="tab">Messages</a></li>
  <li><a href="#test" data-toggle="tab">Settissssngs</a></li>
</ul>

<div class="tab-content responsive">
  <div class="tab-pane active" id="home">
   

  </div>
    <div class="tab-pane" id="profile">Home</div>
  <div class="tab-pane" id="profile">Profile</div>
  <div class="tab-pane" id="messages">Messages</div>
  <div class="tab-pane" id="test">Messsadawassages</div>

</div>

<script type="text/javascript">
  (function($) {
      fakewaffle.responsiveTabs(['xs', 'sm']);
  })(jQuery);
</script>

</div>


<br /><br /><br /><br />
<div id="edit_profile_model">
  <div class="modal_edit">
    <header><h1>
      <%= link_to edit_profile_path do %>
        <h1> Edit Profile </h1>
      <% end %>
    </header>

    <section>
     <p> <h1> <%= current_user.display %> <h1> </p>
     <p> <h1> <%= current_user.public_bio %> </h1> </p>
     <p class="profile_home"> <%= image_tag current_user.profile_image.thumb.url %> </p>
    </section>
  </div>
</div>


<div id="google_maps_api">
    <div class="modal_edit">
  <div style='width: 900px;'>
    <div id="multi_markers" style='width: 800px; height: 400px;'></div>
  </div>
  <div>



  <%= form_for @city do |f| %>
    <div class="city_field">
      <%= f.text_field :city, :placeholder => "Keep track of which cities you have visted." %>
    </div>
    <div class="create_city">
      <%= f.submit %>
    </div>
  <% end %>
</div>

  <% @cities.each do |city| %>
    <table>
        <tr>
          <td><%= city.city %> </td>
        </tr>
    </table>
  <% end %>

<script>

var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'multi_markers'}}, function(){
  var markers = handler.addMarkers([

  <% @cities.each do |city| %>

    { lat: <%= city.latitude %>, lng: <%= city.longitude %>},
    <% end %>
  ]);

  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});

</script>


