<div class="model_listing">
  <h1>All Blogs</h1>
</div>

  <div class="modal">
    <header>
      <p><h1> Most common tags </h1> </p>
    </header>
      <section>
        <div id="tag_cloud">
        <% tag_cloud Blog.tag_counts, %w[ s m l] do |tag, css_class| %>
          <%= link_to tag.name, tag_path(tag.name), class: css_class %>
        <% end %>
        </div>
      </section>     
  </div>

  <div class="search">
      <%= search_form_for @search, url: "/blogs/user_search" do |f| %>
              <%= f.text_field :title_cont, :placeholder => "Title contains" %>
  </div>
  <div class="search_button"> <%= f.submit %> </div>
      <% end %>

<% @blogs.each do |blog| %>


  <div class="modal">
    <header><h1><%= blog.date %> - <%= blog.title %> </h1></header>

    <section>

       <div class="view_all_blog_images"> 
        <%= image_tag blog.blog_image.thumb.url %>
      </div>

      <br />

      <p><%= blog.description %></p>
      <p><div class="tags">
        <%= raw blog.tag_list.map { |t| link_to t, tag_path(t) }.join(', ') %> 
      </div></p>
      <p><div id='favorite-form-<%=blog.id%>'>
      <%= render partial: 'favorite_form', locals: {:blog => blog}  %>
    </div></p>

       <%= link_to 'Show ', blog if can? :show, blog%>

        <% if can? :update, blog %>
           <%= link_to ' Edit ', edit_blog_path(blog) %>
        <% end %> 


         <%= link_to ' Destroy', blog, method: :delete, data: { confirm: 'Are you sure?' } if can? :destroy, blog %>

    </section>
  </div>
  
  </hr>  

<% end %>
<br />

<%= link_to 'New Blog', new_blog_path %>